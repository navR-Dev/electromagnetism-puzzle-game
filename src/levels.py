import os
import json
import time
import platform

LEVEL_COUNT = 30
PROGRESS_FILE = "progress.json"

LEVELS = {
    "1": {
        "id": 1,
        "goal_area": [
            735,
            537
        ],
        "start_pos": [
            62,
            67
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                250,
                100,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "2": {
        "id": 2,
        "goal_area": [
            730,
            534
        ],
        "start_pos": [
            64,
            74
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                400,
                100,
                20,
                80
            ],
            [
                400,
                200,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "3": {
        "id": 3,
        "goal_area": [
            725,
            531
        ],
        "start_pos": [
            66,
            81
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                100,
                100,
                20,
                80
            ],
            [
                100,
                200,
                20,
                80
            ],
            [
                100,
                300,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "4": {
        "id": 4,
        "goal_area": [
            720,
            528
        ],
        "start_pos": [
            68,
            88
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                250,
                100,
                20,
                80
            ],
            [
                250,
                200,
                20,
                80
            ],
            [
                250,
                300,
                20,
                80
            ],
            [
                250,
                400,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "5": {
        "id": 5,
        "goal_area": [
            715,
            525
        ],
        "start_pos": [
            70,
            95
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "6": {
        "id": 6,
        "goal_area": [
            710,
            522
        ],
        "start_pos": [
            72,
            102
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                100,
                100,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "7": {
        "id": 7,
        "goal_area": [
            705,
            519
        ],
        "start_pos": [
            74,
            109
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                250,
                100,
                20,
                80
            ],
            [
                250,
                200,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "8": {
        "id": 8,
        "goal_area": [
            700,
            516
        ],
        "start_pos": [
            76,
            116
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                400,
                100,
                20,
                80
            ],
            [
                400,
                200,
                20,
                80
            ],
            [
                400,
                300,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "9": {
        "id": 9,
        "goal_area": [
            695,
            513
        ],
        "start_pos": [
            78,
            123
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                100,
                100,
                20,
                80
            ],
            [
                100,
                200,
                20,
                80
            ],
            [
                100,
                300,
                20,
                80
            ],
            [
                100,
                400,
                20,
                80
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "10": {
        "id": 10,
        "goal_area": [
            690,
            510
        ],
        "start_pos": [
            80,
            130
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "11": {
        "id": 11,
        "goal_area": [
            685,
            507
        ],
        "start_pos": [
            82,
            137
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                137,
                100,
                20
            ],
            [
                140,
                267,
                20,
                100
            ],
            [
                220,
                397,
                100,
                20
            ],
            [
                300,
                527,
                20,
                100
            ],
            [
                380,
                157,
                100,
                20
            ],
            [
                460,
                287,
                20,
                100
            ],
            [
                540,
                417,
                100,
                20
            ],
            [
                620,
                547,
                20,
                100
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "12": {
        "id": 12,
        "goal_area": [
            680,
            504
        ],
        "start_pos": [
            84,
            144
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                144,
                100,
                20
            ],
            [
                140,
                274,
                20,
                100
            ],
            [
                220,
                404,
                100,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "13": {
        "id": 13,
        "goal_area": [
            675,
            501
        ],
        "start_pos": [
            86,
            151
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                151,
                100,
                20
            ],
            [
                140,
                281,
                20,
                100
            ],
            [
                220,
                411,
                100,
                20
            ],
            [
                300,
                541,
                20,
                100
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "14": {
        "id": 14,
        "goal_area": [
            670,
            498
        ],
        "start_pos": [
            88,
            158
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                158,
                100,
                20
            ],
            [
                140,
                288,
                20,
                100
            ],
            [
                220,
                418,
                100,
                20
            ],
            [
                300,
                548,
                20,
                100
            ],
            [
                380,
                178,
                100,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "15": {
        "id": 15,
        "goal_area": [
            665,
            495
        ],
        "start_pos": [
            90,
            65
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                165,
                100,
                20
            ],
            [
                140,
                295,
                20,
                100
            ],
            [
                220,
                425,
                100,
                20
            ],
            [
                300,
                555,
                20,
                100
            ],
            [
                380,
                185,
                100,
                20
            ],
            [
                460,
                315,
                20,
                100
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "16": {
        "id": 16,
        "goal_area": [
            660,
            492
        ],
        "start_pos": [
            92,
            72
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                172,
                100,
                20
            ],
            [
                140,
                302,
                20,
                100
            ],
            [
                220,
                432,
                100,
                20
            ],
            [
                300,
                62,
                20,
                100
            ],
            [
                380,
                192,
                100,
                20
            ],
            [
                460,
                322,
                20,
                100
            ],
            [
                540,
                452,
                100,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "17": {
        "id": 17,
        "goal_area": [
            655,
            489
        ],
        "start_pos": [
            94,
            79
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                179,
                100,
                20
            ],
            [
                140,
                309,
                20,
                100
            ],
            [
                220,
                439,
                100,
                20
            ],
            [
                300,
                69,
                20,
                100
            ],
            [
                380,
                199,
                100,
                20
            ],
            [
                460,
                329,
                20,
                100
            ],
            [
                540,
                459,
                100,
                20
            ],
            [
                620,
                89,
                20,
                100
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "18": {
        "id": 18,
        "goal_area": [
            650,
            486
        ],
        "start_pos": [
            96,
            86
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                186,
                100,
                20
            ],
            [
                140,
                316,
                20,
                100
            ],
            [
                220,
                446,
                100,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "19": {
        "id": 19,
        "goal_area": [
            645,
            483
        ],
        "start_pos": [
            98,
            93
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                193,
                100,
                20
            ],
            [
                140,
                323,
                20,
                100
            ],
            [
                220,
                453,
                100,
                20
            ],
            [
                300,
                83,
                20,
                100
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "20": {
        "id": 20,
        "goal_area": [
            640,
            480
        ],
        "start_pos": [
            100,
            100
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                60,
                200,
                100,
                20
            ],
            [
                140,
                330,
                20,
                100
            ],
            [
                220,
                460,
                100,
                20
            ],
            [
                300,
                90,
                20,
                100
            ],
            [
                380,
                220,
                100,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "21": {
        "id": 21,
        "goal_area": [
            635,
            477
        ],
        "start_pos": [
            102,
            107
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                229,
                120,
                20
            ],
            [
                110,
                349,
                20,
                120
            ],
            [
                180,
                469,
                120,
                20
            ],
            [
                250,
                89,
                20,
                120
            ],
            [
                320,
                209,
                120,
                20
            ],
            [
                390,
                329,
                20,
                120
            ],
            [
                460,
                449,
                120,
                20
            ],
            [
                530,
                69,
                20,
                120
            ],
            [
                600,
                189,
                120,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "22": {
        "id": 22,
        "goal_area": [
            630,
            474
        ],
        "start_pos": [
            104,
            114
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                238,
                120,
                20
            ],
            [
                110,
                358,
                20,
                120
            ],
            [
                180,
                478,
                120,
                20
            ],
            [
                250,
                98,
                20,
                120
            ],
            [
                320,
                218,
                120,
                20
            ],
            [
                390,
                338,
                20,
                120
            ],
            [
                460,
                458,
                120,
                20
            ],
            [
                530,
                78,
                20,
                120
            ],
            [
                600,
                198,
                120,
                20
            ],
            [
                670,
                318,
                20,
                120
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "23": {
        "id": 23,
        "goal_area": [
            625,
            471
        ],
        "start_pos": [
            106,
            121
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                247,
                120,
                20
            ],
            [
                110,
                367,
                20,
                120
            ],
            [
                180,
                487,
                120,
                20
            ],
            [
                250,
                107,
                20,
                120
            ],
            [
                320,
                227,
                120,
                20
            ],
            [
                390,
                347,
                20,
                120
            ],
            [
                460,
                467,
                120,
                20
            ],
            [
                530,
                87,
                20,
                120
            ],
            [
                600,
                207,
                120,
                20
            ],
            [
                670,
                327,
                20,
                120
            ],
            [
                40,
                447,
                120,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "24": {
        "id": 24,
        "goal_area": [
            620,
            468
        ],
        "start_pos": [
            108,
            128
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                256,
                120,
                20
            ],
            [
                110,
                376,
                20,
                120
            ],
            [
                180,
                496,
                120,
                20
            ],
            [
                250,
                116,
                20,
                120
            ],
            [
                320,
                236,
                120,
                20
            ],
            [
                390,
                356,
                20,
                120
            ],
            [
                460,
                476,
                120,
                20
            ],
            [
                530,
                96,
                20,
                120
            ],
            [
                600,
                216,
                120,
                20
            ],
            [
                670,
                336,
                20,
                120
            ],
            [
                40,
                456,
                120,
                20
            ],
            [
                110,
                76,
                20,
                120
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "25": {
        "id": 25,
        "goal_area": [
            615,
            465
        ],
        "start_pos": [
            110,
            135
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                265,
                120,
                20
            ],
            [
                110,
                385,
                20,
                120
            ],
            [
                180,
                505,
                120,
                20
            ],
            [
                250,
                125,
                20,
                120
            ],
            [
                320,
                245,
                120,
                20
            ],
            [
                390,
                365,
                20,
                120
            ],
            [
                460,
                485,
                120,
                20
            ],
            [
                530,
                105,
                20,
                120
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "26": {
        "id": 26,
        "goal_area": [
            610,
            462
        ],
        "start_pos": [
            112,
            142
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                274,
                120,
                20
            ],
            [
                110,
                394,
                20,
                120
            ],
            [
                180,
                514,
                120,
                20
            ],
            [
                250,
                134,
                20,
                120
            ],
            [
                320,
                254,
                120,
                20
            ],
            [
                390,
                374,
                20,
                120
            ],
            [
                460,
                494,
                120,
                20
            ],
            [
                530,
                114,
                20,
                120
            ],
            [
                600,
                234,
                120,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "27": {
        "id": 27,
        "goal_area": [
            605,
            459
        ],
        "start_pos": [
            114,
            149
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                283,
                120,
                20
            ],
            [
                110,
                403,
                20,
                120
            ],
            [
                180,
                523,
                120,
                20
            ],
            [
                250,
                143,
                20,
                120
            ],
            [
                320,
                263,
                120,
                20
            ],
            [
                390,
                383,
                20,
                120
            ],
            [
                460,
                503,
                120,
                20
            ],
            [
                530,
                123,
                20,
                120
            ],
            [
                600,
                243,
                120,
                20
            ],
            [
                670,
                363,
                20,
                120
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "28": {
        "id": 28,
        "goal_area": [
            600,
            456
        ],
        "start_pos": [
            116,
            156
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                292,
                120,
                20
            ],
            [
                110,
                412,
                20,
                120
            ],
            [
                180,
                532,
                120,
                20
            ],
            [
                250,
                152,
                20,
                120
            ],
            [
                320,
                272,
                120,
                20
            ],
            [
                390,
                392,
                20,
                120
            ],
            [
                460,
                512,
                120,
                20
            ],
            [
                530,
                132,
                20,
                120
            ],
            [
                600,
                252,
                120,
                20
            ],
            [
                670,
                372,
                20,
                120
            ],
            [
                40,
                492,
                120,
                20
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "29": {
        "id": 29,
        "goal_area": [
            595,
            453
        ],
        "start_pos": [
            118,
            63
        ],
        "game_charge_val": 50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                301,
                120,
                20
            ],
            [
                110,
                421,
                20,
                120
            ],
            [
                180,
                41,
                120,
                20
            ],
            [
                250,
                161,
                20,
                120
            ],
            [
                320,
                281,
                120,
                20
            ],
            [
                390,
                401,
                20,
                120
            ],
            [
                460,
                521,
                120,
                20
            ],
            [
                530,
                141,
                20,
                120
            ],
            [
                600,
                261,
                120,
                20
            ],
            [
                670,
                381,
                20,
                120
            ],
            [
                40,
                501,
                120,
                20
            ],
            [
                110,
                121,
                20,
                120
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    },
    "30": {
        "id": 30,
        "goal_area": [
            590,
            450
        ],
        "start_pos": [
            120,
            70
        ],
        "game_charge_val": -50,
        "walls": [
            [
                0,
                0,
                800,
                20
            ],
            [
                0,
                580,
                800,
                20
            ],
            [
                0,
                0,
                20,
                600
            ],
            [
                780,
                0,
                20,
                600
            ],
            [
                40,
                310,
                120,
                20
            ],
            [
                110,
                430,
                20,
                120
            ],
            [
                180,
                50,
                120,
                20
            ],
            [
                250,
                170,
                20,
                120
            ],
            [
                320,
                290,
                120,
                20
            ],
            [
                390,
                410,
                20,
                120
            ],
            [
                460,
                530,
                120,
                20
            ],
            [
                530,
                150,
                20,
                120
            ]
        ],
        "completed": False,
        "time_taken": None,
        "start_time": None
    }
}

def load_progress():
    if platform.system() != "Emscripten" and os.path.exists(PROGRESS_FILE):
        with open(PROGRESS_FILE, "r") as f:
            data = json.load(f)
            for level_id, d in data.items():
                if level_id in LEVELS:
                    LEVELS[level_id]["completed"] = d.get("completed", False)
                    LEVELS[level_id]["time_taken"] = d.get("time_taken", None)

def save_progress():
    if platform.system() != "Emscripten":
        data = {
            level_id: {
                "completed": level["completed"],
                "time_taken": level["time_taken"]
            } for level_id, level in LEVELS.items()
        }
        with open(PROGRESS_FILE, "w") as f:
            json.dump(data, f, indent=2)

def start_level_timer(level_id):
    level = LEVELS[str(level_id)]
    level["start_time"] = time.time()

def end_level_timer(level_id):
    level = LEVELS[str(level_id)]
    if level["start_time"] is not None:
        level["time_taken"] = round(time.time() - level["start_time"], 2)
        level["completed"] = True
        level["start_time"] = None
        save_progress()

def reset_level(level_id):
    level = LEVELS[str(level_id)]
    level["start_time"] = time.time()
    return level

def get_level(level_id):
    return LEVELS.get(str(level_id))

def get_completed_count():
    return sum(1 for lvl in LEVELS.values() if lvl["completed"])

def reset_all_progress():
    for lvl in LEVELS.values():
        lvl["completed"] = False
        lvl["time_taken"] = None
        lvl["start_time"] = None
    save_progress()